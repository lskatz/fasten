<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Tasks used to drive a future computation"><meta name="keywords" content="rust, rustlang, rust-lang, task"><title>futures::task - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../../futures/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Module task</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="task" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../futures/index.html"><img class="rust-logo" src="../../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">futures</a>::<wbr><a class="mod" href="#">task</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/futures/task.rs.html#1-46" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Tasks used to drive a future computation</p>
<p>It’s intended over time a particular operation (such as servicing an HTTP
request) will involve many futures. This entire operation, however, can be
thought of as one unit, as the entire result is essentially just moving
through one large state machine.</p>
<p>A “task” is the unit of abstraction for what is driving this state machine
and tree of futures forward. A task is used to poll futures and schedule
futures with, and has utilities for sharing data between tasks and handles
for notifying when a future is ready. Each task also has its own set of
task-local data generated by <code>task_local!</code>.</p>
<p>Note that libraries typically should not manage tasks themselves, but rather
leave that to event loops and other “executors” (see the <code>executor</code> module),
or by using the <code>wait</code> method to create and execute a task directly on the
current thread.</p>
<p>More information about the task model can be found <a href="https://tokio.rs/docs/going-deeper-futures/futures-model/">online at tokio.rs</a>.</p>
<h3 id="functions" class="section-header"><a href="#functions">Functions</a></h3>
<p>There is an important bare function in this module: <code>current</code>. The
<code>current</code> function returns a handle to the currently running task, panicking
if one isn’t present. This handle is then used to later notify the task that
it’s ready to make progress through the <code>Task::notify</code> method.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AtomicTask.html" title="futures::task::AtomicTask struct">AtomicTask</a></div><div class="item-right docblock-short"><p>A synchronization primitive for task notification.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LocalKey.html" title="futures::task::LocalKey struct">LocalKey</a></div><div class="item-right docblock-short"><p>A key for task-local data stored in a future’s task.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Task.html" title="futures::task::Task struct">Task</a></div><div class="item-right docblock-short"><p>A handle to a “task”, which represents a single lightweight “thread” of
execution driving a future to completion.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.UnparkEvent.html" title="futures::task::UnparkEvent struct">UnparkEvent</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"><p>A set insertion to trigger upon <code>unpark</code>.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.EventSet.html" title="futures::task::EventSet trait">EventSet</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"><p>A concurrent set which allows for the insertion of <code>usize</code> values.</p>
</div></div></div><h2 id="functions-1" class="small-section-header"><a href="#functions-1">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.current.html" title="futures::task::current fn">current</a></div><div class="item-right docblock-short"><p>Returns a handle to the current task to call <code>notify</code> at a later date.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.init.html" title="futures::task::init fn">init</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Initialize the <code>futures</code> task system.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.is_in_task.html" title="futures::task::is_in_task fn">is_in_task</a></div><div class="item-right docblock-short"><p>Return whether the caller is running in a task (and so can use task_local!).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.with_unpark_event.html" title="futures::task::with_unpark_event fn">with_unpark_event</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"><p>For the duration of the given callback, add an “unpark event” to be
triggered when the task handle is used to unpark the task.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="futures" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>